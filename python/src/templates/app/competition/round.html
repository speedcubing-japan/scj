{% extends "app/base.html" %}
{% load competition_logo %}
{% load static %}

{% block content %}
{% with path=competition|competition_logo %}
  <h4 class="ml-2 mb-3"><img class="mr-2" width="30" src="{% static path %}">{{ competition.name }}</h4>
{% endwith %}

<div class="row mb-3">
  <div class="col-sm-3 mb-3">
    {% include "app/competition/menu.html" with active='round' %}
  </div>
  <div class="col-sm-9">
    <ul class="list-group">
      {% for round in rounds %}
        <li class="card-header lead list-group-item">
          <span>{{ round.get_event_id_display }}&nbsp;{{ round.get_type_display }}{% if round.event_id == consts.EVENT_ID_FMC %}&nbsp;(第{{ round.attempt_count }}試技){% endif %}</span>
          <span class="float-right">{{ round.room_name }}</span>
        </li>
        <li class="list-group-item">
          <span>予定時刻</span>
          <span class="float-right">{{ round.begin_at | date:"H:i"}} - {{ round.end_at | date:"H:i"}}</span>
        </li>
        <li class="list-group-item">
          <span>競技形式</span>
          <span class="float-right">{{ round.get_format_id_display }}</span>
        </li>
        <li class="list-group-item">
          <span>制限タイム</span>
          <span class="float-right">
            {% if round.limit_time > 0 %}
              {% if round.limit_type == consts.ROUND_LIMIT_TYPE_CUMULATIVE %}累計{% endif %}{{ round.limit_time }}秒
            {% else %}
              N/A
            {% endif %}</span>
        </li>
        <li class="list-group-item">
          <span>カットオフ</span>
          <span class="float-right">
            {% if round.cutoff_time > 0 %}
              最初の{{ round.cutoff_attempt_count }}試技までに{{ round.cutoff_time }}秒未満
            {% else %}
              N/A
            {% endif %}</span>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}